/*! For license information please see 5.f4747cb2.chunk.js.LICENSE.txt */
(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[5],{83:function(e,t,s){var n;!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=a.apply(null,n);o&&e.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},85:function(e,t,s){e.exports={personal_wrapper:"ProfileInfo_personal_wrapper__2VJ32",avaWrapper:"ProfileInfo_avaWrapper__1stZm",ava_img:"ProfileInfo_ava_img__3OnbU",uploadLabel:"ProfileInfo_uploadLabel__3woJy",uploadInput:"ProfileInfo_uploadInput__1X9U2",description:"ProfileInfo_description__1Hvbx",fullName:"ProfileInfo_fullName__1N9Tc",opentowork:"ProfileInfo_opentowork__krMPH",element:"ProfileInfo_element__Maj4v",contacts:"ProfileInfo_contacts__2_LTV",btn:"ProfileInfo_btn__3UTTv"}},89:function(e,t,s){e.exports={btnPost:"MyPosts_btnPost__2rjRK"}},90:function(e,t,s){e.exports={post:"Post_post__1gymP",ava:"Post_ava__1DoPF"}},96:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s(22),r=s(23),o=s(25),i=s(24),c=s(0),l=s.n(c),u=s(89),d=s.n(u),j=s(90),b=s.n(j),p=s(1),h=function(e){return Object(p.jsxs)("div",{className:b.a.post,children:[Object(p.jsx)("div",{className:b.a.ava,style:{background:"center / cover no-repeat url(".concat(e.photo,")")}}),Object(p.jsx)("div",{children:e.message}),Object(p.jsx)("span",{children:"Like"})," ",Object(p.jsxs)("span",{children:[" ",e.likesCount]})]})},O=s(84),f=function(e){var t,s,a=Object(O.a)(),r=a.register,o=a.handleSubmit,i=a.formState.errors;return Object(p.jsxs)("form",{onSubmit:o((function(t){return e.addPost(t.newPostText)})),children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("textarea",Object(n.a)({placeholder:"my news..."},r("newPostText",{required:!0,maxLength:{value:100,message:"max length 100"}}))),Object(p.jsx)("button",{className:d.a.btnPost,children:"Post"})]}),"required"===(null===(t=i.newPostText)||void 0===t?void 0:t.type)&&Object(p.jsx)("span",{children:"Field is required"}),(null===(s=i.newPostText)||void 0===s?void 0:s.message)&&Object(p.jsx)("span",{children:i.newPostText.message})]})},x=function(e){var t=e.postsData,s=e.addPost,n=e.photoSmall,a=t.map((function(e){return Object(p.jsx)(h,{id:e.id,photo:n,message:e.message,likesCount:e.likesCount},e.id)}));return Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"My Posts"}),Object(p.jsx)(f,{addPost:s}),a]})},m=l.a.memo(x),v=s(36),g=s(19),_=Object(g.b)((function(e){var t;return{postsData:e.profilePage.postsData,photoSmall:null===(t=e.profilePage.profile)||void 0===t?void 0:t.photos.small}}),(function(e){return{addPost:function(t){return e(Object(v.a)(t))}}}))(m),k=s(82),y=s(37),P=s(85),N=s.n(P),w=function(e){var t=e.status,s=e.updateUserStatus,n=Object(c.useState)(!1),a=Object(k.a)(n,2),r=a[0],o=a[1],i=Object(c.useState)(t),l=Object(k.a)(i,2),u=l[0],d=l[1];return Object(c.useEffect)((function(){d(t)}),[t]),Object(p.jsxs)("div",{className:"",children:[!r&&Object(p.jsx)("div",{children:Object(p.jsx)("span",{onDoubleClick:function(){o(!0)},children:t||"status is not defined"})}),r&&Object(p.jsx)("div",{children:Object(p.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),s(u)},onChange:function(e){d(e.currentTarget.value)},value:u,type:"text"})})]})},I=s(83),S=s.n(I),F=function(e){var t,s,a,r=e.profile,o=e.goToEditMode,i=e.updateDescription,l=Object(c.useState)(null),u=Object(k.a)(l,2),d=u[0],j=u[1],b=Object(O.a)({defaultValues:{fullName:r.fullName,lookingForAJob:r.lookingForAJob,lookingForAJobDescription:r.lookingForAJobDescription,aboutMe:r.aboutMe,contacts:{facebook:r.contacts.facebook,github:r.contacts.github,instagram:r.contacts.instagram,mainLink:r.contacts.mainLink,twitter:r.contacts.twitter,vk:r.contacts.vk,website:r.contacts.website,youtube:r.contacts.youtube}}}),h=b.register,f=b.handleSubmit,x=b.formState.errors;return Object(p.jsxs)("form",{onSubmit:f((function(e){i(e).then((function(){return o()})).catch((function(e){return j(e)}))})),className:N.a.description,children:[Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"Full Name"}),Object(p.jsxs)("b",{children:[Object(p.jsx)("input",Object(n.a)({placeholder:"full name"},h("fullName",{required:!0}))),"required"===(null===(t=x.fullName)||void 0===t?void 0:t.type)&&Object(p.jsx)("span",{children:"Field is required"})]})]}),Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"looking for a job"}),Object(p.jsx)("b",{children:Object(p.jsx)("input",Object(n.a)({type:"checkbox"},h("lookingForAJob")))})]}),Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"Job description:"}),Object(p.jsxs)("b",{children:[Object(p.jsx)("textarea",Object(n.a)({placeholder:"job description"},h("lookingForAJobDescription",{required:!0}))),"required"===(null===(s=x.lookingForAJobDescription)||void 0===s?void 0:s.type)&&Object(p.jsx)("span",{children:"Field is required"})]})]}),Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"about me"}),Object(p.jsxs)("b",{children:[Object(p.jsx)("textarea",Object(n.a)({placeholder:"about me"},h("aboutMe",{required:!0}))),"required"===(null===(a=x.aboutMe)||void 0===a?void 0:a.type)&&Object(p.jsx)("span",{children:"Field is required"})]})]}),Object(p.jsxs)("div",{className:S()(N.a.element,N.a.contacts),children:[Object(p.jsx)("span",{children:"contacts"}),Object(p.jsx)("br",{}),Object(p.jsx)("b",{children:Object.keys(r.contacts).map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("input",Object(n.a)({placeholder:e},h("contacts.".concat(e))))},e)}))})]}),Object(p.jsx)("input",{className:N.a.btn,type:"submit",value:"send"}),d&&Object(p.jsx)("span",{style:{color:"red",margin:"0 auto"},children:d})]})},A=function(e){var t=e.profile,s=e.isOwner,n=e.goToEditMode;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:N.a.fullName,children:[Object(p.jsx)("h3",{children:null===t||void 0===t?void 0:t.fullName}),s&&Object(p.jsx)("button",{onClick:n,children:"Edit profile"})]}),Object(p.jsx)("span",{className:N.a.opentowork,children:Object(p.jsx)("b",{children:(null===t||void 0===t?void 0:t.lookingForAJob)?"Open to work":null})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"Job description:"}),Object(p.jsx)("b",{children:null===t||void 0===t?void 0:t.lookingForAJobDescription})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"About Me:"}),Object(p.jsx)("b",{children:null===t||void 0===t?void 0:t.aboutMe})]}),Object(p.jsx)("hr",{}),Object(p.jsxs)("div",{className:N.a.element,children:[Object(p.jsx)("span",{children:"Contacts:"}),Object(p.jsx)("b",{children:Object.keys(t.contacts).map((function(e){return Object(p.jsx)(D,{title:e,value:t.contacts[e]},e)}))})]})]})},D=function(e){var t=e.title,s=e.value;return Object(p.jsxs)("div",{style:s?{display:"block"}:{display:"none"},children:[Object(p.jsxs)("b",{children:[t,": "]}),s]})},J=function(e){var t,s=e.updateAvatar,n=e.profile,a=e.status,r=e.updateUserStatus,o=e.updateDescription,i=e.isOwner,l=Object(c.useState)(!1),u=Object(k.a)(l,2),d=u[0],j=u[1];if(n){var b={backgroundImage:(t=n.photos.large)?"url(".concat(t,")"):"url('https://avatars.mds.yandex.net/get-zen_doc/1570751/pub_5fa2a2525dc59845ddab2eb2_5fa2a4ab5dfc942ad768ab44/scale_1200')"};return Object(p.jsxs)("div",{className:N.a.personal_wrapper,children:[Object(p.jsx)("div",{className:N.a.avaWrapper,children:Object(p.jsx)("div",{style:b,className:N.a.ava_img,children:i&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("input",{className:N.a.uploadInput,type:"file",onChange:function(e){e.target.files&&s(e.target.files[0])}}),Object(p.jsx)("label",{className:N.a.uploadLabel,children:" "})]})})}),Object(p.jsxs)("div",{className:N.a.description,children:[Object(p.jsx)("b",{children:Object(p.jsx)(w,{status:a,updateUserStatus:r})}),d?Object(p.jsx)(F,{profile:n,updateDescription:o,goToEditMode:function(){return j(!1)}}):Object(p.jsx)(A,{profile:n,isOwner:i,goToEditMode:function(){return j(!0)}})]})]})}return Object(p.jsx)(y.a,{isFetching:!0})},M=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(J,Object(n.a)({},e)),Object(p.jsx)(_,{})]})},U=s(5),T=s(15),q=function(e){Object(o.a)(s,e);var t=Object(i.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"identifyUser",value:function(){var e,t=this.props.match.params.userId||(null===(e=this.props.userId)||void 0===e?void 0:e.toString());t?(this.props.getUserProfile(t),this.props.getUserStatus(t)):this.props.history.push("/login")}},{key:"componentDidMount",value:function(){this.identifyUser()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId===e.match.params.userId&&this.props.userId===e.userId||this.identifyUser()}},{key:"render",value:function(){return Object(p.jsx)(M,Object(n.a)({isOwner:!this.props.match.params.userId},this.props))}}]),s}(l.a.Component);t.default=Object(T.c)(Object(g.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:v.c,getUserStatus:v.d,updateUserStatus:v.g,updateAvatar:v.e,updateDescription:v.f}),U.g)(q)}}]);
//# sourceMappingURL=5.f4747cb2.chunk.js.map