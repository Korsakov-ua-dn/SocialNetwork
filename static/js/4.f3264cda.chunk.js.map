{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/classnames/index.js","assets/img/null-avatar-icon.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","Components/common/Paginator/Paginator.module.css","Components/MainContent/Users/User.module.css","Components/common/Paginator/Paginator.tsx","Components/MainContent/Users/User.tsx","Components/MainContent/Users/Users.tsx","Redux/Users-selectors.ts","Components/MainContent/Users/UsersContainer.tsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","inner","apply","toString","prototype","key","call","join","module","exports","default","_objectWithoutProperties","source","excluded","target","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Paginator","totalCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","currentPortion","setCurrentPortion","leftPortionPageNumber","rightPortionPageNumber","className","s","wrapper","onClick","btnPrev","filter","p","map","cn","page","selectedPage","btnNext","User","user","isFollowingProgress","follow","unfollow","userWrapper","dataWrapper","avatar","to","id","src","photos","small","alt","descr","name","status","followed","disabled","some","btnFollow","Users","users","u","getUsers","state","getTotalCount","getPageSize","getCurrentPage","getIsFollowingProgress","getIsFetching","isFetching","UsersContainer","props","requestUsers","this","Preloader","React","Component","compose","connect","usersPage"],"mappings":"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","file":"static/js/4.f3264cda.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default __webpack_public_path__ + \"static/media/null-avatar-icon.6545822b.png\";","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__2cvh6\",\"page\":\"Paginator_page__1KnF7\",\"selectedPage\":\"Paginator_selectedPage__Vffxb\",\"btnPrev\":\"Paginator_btnPrev__2ld_F\",\"btnNext\":\"Paginator_btnNext__IodXq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"User_userWrapper__2qL6A\",\"dataWrapper\":\"User_dataWrapper__2_whV\",\"avatar\":\"User_avatar__1V63E\",\"descr\":\"User_descr__MFSlW\",\"status\":\"User_status__18QPt\",\"btnFollow\":\"User_btnFollow__afiZt\"};","import {useState} from \"react\"\r\nimport s from \"./Paginator.module.css\"\r\nimport cn from 'classnames'\r\n\r\ntype PropsType = {\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (p: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport const Paginator: React.FC<PropsType> = (\r\n    {\r\n        totalCount,\r\n        pageSize,\r\n        currentPage,\r\n        onPageChanged,\r\n        portionSize,\r\n    }\r\n) => {\r\n    let pagesCount = Math.ceil(totalCount / pageSize)\r\n    let pages = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [currentPortion, setCurrentPortion] = useState<number>(1)\r\n    let leftPortionPageNumber = (currentPortion * portionSize) - portionSize + 1\r\n    let rightPortionPageNumber = currentPortion * portionSize\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            {leftPortionPageNumber > 1 && <button\r\n                onClick={() => setCurrentPortion(currentPortion - 1)}\r\n                    className={s.btnPrev}\r\n            >prev</button>}\r\n            {\r\n                pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map(p => <span\r\n                        key={p}\r\n                        className={cn(s.page, {[s.selectedPage]: currentPage === p})}\r\n                        onClick={() => onPageChanged(p)}\r\n                    >{p} </span>)\r\n            }\r\n            {currentPortion < portionCount && <button\r\n                onClick={() => setCurrentPortion(currentPortion + 1)}\r\n                className={s.btnNext}\r\n            >next</button>}\r\n        </div>\r\n    )\r\n}","import s from './User.module.css'\r\nimport avatar from '../../../assets/img/null-avatar-icon.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {UserDataType} from \"../../../API/api\"\r\nimport React from \"react\"\r\n\r\ntype UsersPropsType = {\r\n    user: UserDataType\r\n    isFollowingProgress: number[]\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nconst User: React.FC<UsersPropsType> = (\r\n    {\r\n        user,\r\n        isFollowingProgress,\r\n        follow,\r\n        unfollow,\r\n    }\r\n) => {\r\n\r\n    return (\r\n        <div className={s.userWrapper}>\r\n            <div className={s.dataWrapper}>\r\n                <div className={s.avatar}>\r\n                    <NavLink to={\"/profile/\" + user.id}>\r\n                        <img src={user.photos.small ? user.photos.small : avatar} alt=\"userAvatar\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={s.descr}>\r\n                    <b><div>{user.name}</div></b>\r\n                    <div className={s.status}>{user.status}</div>\r\n                </div>\r\n            </div>\r\n            {user.followed\r\n                ? <button disabled={isFollowingProgress.some(id => id === user.id)}\r\n                          className={s.btnFollow}\r\n                          onClick={() => {\r\n                              unfollow(user.id)\r\n                          }}>unfollow</button>\r\n\r\n                : <button disabled={isFollowingProgress.some(id => id === user.id)}\r\n                          className={s.btnFollow}\r\n                          onClick={() => {\r\n                              follow(user.id)\r\n                          }}>follow</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User","import {Paginator} from '../../common/Paginator/Paginator'\r\nimport User from './User'\r\nimport React from \"react\"\r\nimport {UserDataType} from \"../../../API/api\"\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserDataType>\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFollowingProgress: number[]\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    onPageChanged: (currentPage: number) => void\r\n}\r\n\r\nconst Users: React.FC<UsersPropsType> = (\r\n    {\r\n        users,\r\n        totalCount,\r\n        pageSize,\r\n        currentPage,\r\n        isFollowingProgress,\r\n        follow,\r\n        unfollow,\r\n        onPageChanged,\r\n        ...props\r\n    }\r\n) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                totalCount={totalCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                portionSize={20}\r\n            />\r\n            {\r\n                users.map(u => <User key={u.id}\r\n                                     user={u}\r\n                                     isFollowingProgress={isFollowingProgress}\r\n                                     follow={follow}\r\n                                     unfollow={unfollow}/>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users","import {UsersPageType} from \"./users-reducer\";\r\n\r\nexport const getUsers = (state: UsersPageType) => state.users\r\nexport const getTotalCount = (state: UsersPageType) => state.totalCount\r\nexport const getPageSize = (state: UsersPageType) => state.pageSize\r\nexport const getCurrentPage = (state: UsersPageType) => state.currentPage\r\nexport const getIsFollowingProgress = (state: UsersPageType) => state.isFollowingProgress\r\nexport const getIsFetching = (state: UsersPageType) => state.isFetching\r\n","import {connect} from 'react-redux'\r\nimport {AppStateType} from '../../../Redux/store'\r\nimport {requestUsers, follow, unfollow} from '../../../Redux/users-reducer'\r\nimport React from 'react'\r\nimport Users from './Users'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport {compose} from 'redux'\r\nimport {\r\n    getUsers,\r\n    getTotalCount,\r\n    getPageSize,\r\n    getCurrentPage,\r\n    getIsFollowingProgress, getIsFetching\r\n} from '../../../Redux/Users-selectors'\r\nimport {UserDataType} from \"../../../API/api\";\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (p: number) => {\r\n        this.props.requestUsers(p, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Preloader isFetching={this.props.isFetching}/>\r\n                <Users\r\n                    users={this.props.users}\r\n                    totalCount={this.props.totalCount}\r\n                    pageSize={this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    isFollowingProgress={this.props.isFollowingProgress}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                    onPageChanged={this.onPageChanged}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    users: Array<UserDataType>\r\n    totalCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFollowingProgress: number[]\r\n    isFetching: boolean\r\n}\r\ntype mapDispatchPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    requestUsers: (currentPage: number, pageSize: number) => void\r\n}\r\nexport type UsersContainerPropsType = mapStatePropsType & mapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStatePropsType => ({\r\n    users: getUsers(state.usersPage),\r\n    totalCount: getTotalCount(state.usersPage),\r\n    pageSize: getPageSize(state.usersPage),\r\n    currentPage: getCurrentPage(state.usersPage),\r\n    isFollowingProgress: getIsFollowingProgress(state.usersPage),\r\n    isFetching: getIsFetching(state.usersPage),\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {follow, unfollow, requestUsers}),\r\n)(UsersContainer)"],"sourceRoot":""}